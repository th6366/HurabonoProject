//학생정보검색 프로그램.#include "stdafx.h"#include "stdlib.h"#include "string.h"typedef struct student { char name[20]; //이름. int age; //나이. char country[4]; //국적. char department[3]; //부서.}STUDENT;void printInterface(); //인터페이스(출력).void studentSearch(STUDENT *s); //학생 검색 함수.void main(){ FILE *ifp; //입력 파일 포인터. STUDENT s[15]; //학생 15명. int i; ifp = fopen("students.txt", "r"); //입력 파일 개방. if (ifp == NULL) { //파일을 읽지 못했을 시 프로그램 종료.  printf("파일을 읽지 못했습니다.\n");  system("pause");  exit(-1); } for (i = 0; i < 15; i++) { //구조체 배열에 값마다 대입.  fscanf(ifp, "%s%d%s%s", s[i].name, &s[i].age, s[i].country, s[i].department);  printf("%s %d %s %s\n", s[i].name, s[i].age, s[i].country, s[i].department); } studentSearch(s); //학생 검색 함수 호출. system("pause");}void printInterface(){ printf("1.NAME\n2.AGE\n3.COUNTRY\n4.DEPARTMENT\n5.QUIT\n"); printf("Please Enter Menu Number : ");}void studentSearch(STUDENT *s){ char searchName[20]; //검색할 이름. int searchAge; //검색할 나이. char searchCountry[5]; //검색할 국적. char searchDepart[5]; //검색할 부서. int i, num; while (1) {  printInterface(); //인터페이스  scanf("%d", &num); //번호 선택.  switch (num) {  case 1: //검색한 이름의 정보 출력.   printf("이름을 입력하세요 : ");   scanf("%s", searchName);   for (i = 0; i < 15; i++) {    if (strcmp(searchName, (s + i)->name) == 0) {     printf("이름 : %s, 나이 : %d, 국적 : %s, 부서 : %s\n", (s + i)->name, (s + i)->age, (s + i)->country, (s + i)->department);     break;    }   }   break;  case 2: //검색한 나이의 학생들 정보 모두 출력.   printf("나이를 입력하세요 : ");   scanf("%d", &searchAge);   for (i = 0; i < 15; i++) {    if(searchAge == (s + i)->age) {     printf("이름 : %s, 나이 : %d, 국적 : %s, 부서 : %s\n", (s + i)->name, (s + i)->age, (s + i)->country, (s + i)->department);    }   }    break;  case 3: //검색한 국적의 학생들 정보 모두 출력.   printf("국적을 입력하세요 : ");   scanf("%s", searchCountry);   for (i = 0; i < 15; i++) {    if (strcmp(searchCountry, (s + i)->country) == 0) {     printf("이름 : %s, 나이 : %d, 국적 : %s, 부서 : %s\n", (s + i)->name, (s + i)->age, (s + i)->country, (s + i)->department);    }   }   break;  case 4: //검색한 부서의 학생들 정보 모두 출력.   printf("부서를 입력하세요 : ");   scanf("%s", searchDepart);   for (i = 0; i < 15; i++) {    if (strcmp(searchDepart, (s + i)->department) == 0) {     printf("이름 : %s, 나이 : %d, 국적 : %s, 부서 : %s\n", (s + i)->name, (s + i)->age, (s + i)->country, (s + i)->department);    }   }   break;  case 5:    printf("프로그램을 종료합니다.\n");   system("pause");   exit(-1);  default:    printf("잘못 입력하셨습니다. 다시 입력해주세요.\n");   break;  } }}
